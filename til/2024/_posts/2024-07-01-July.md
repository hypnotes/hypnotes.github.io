---
layout: post
title: 2024 í•˜ë°˜ê¸° TIL
description: >
  30 minutes per day
categories: til
sitemap: false
accent_image: /assets/default.jpg
permalink: /til/2024/second-half
pagination: false
---

- this list will be replaced by the toc
  {:toc .large-only}

## 7/22: Type vs Interface

---

> íšŒì‚¬ì—ì„œ `interface` ê¸ˆì§€í•˜ëŠ” ì»¨ë²¤ì…˜ì´ ê¶ê¸ˆí•´ì¡Œë‹¤

**_Similarities_**

1. ê°ì²´ shape
2. index signature ê°€ëŠ¥

```js
interface IObj {
  [key: string]: any;
}

type TObj = {
  [key: string]: any,
};
```

**_Differences_**

1. Declaration Merging (ì„ ì–¸ ë³‘í•©)

   - `interface`ëŠ” ì„ ì–¸ ë³‘í•© ê°€ëŠ¥
   - `type`ì€ ë¶ˆê°€ëŠ¥

   ```js
   interface User {
     name: string;
   }

   interface User {
     age: number;
   }

   // Merged into: interface User { name: string; age: number; }

   type UserType = {
     name: string,
   };

   type UserType = {
     age: number,
   }; // Error: Duplicate identifier 'UserType'.
   ```

2. `type` complex ê°€ëŠ¥ (unions, intersections, mapped types etc)

   ```js
   type Status = "success" | "error" | "pending";

   type UnionType = User | UserType;

   type PartialUser = Partial<UserType>;
   ```

3. Inheritance

   - `type`: `&` ì‚¬ìš© (intersection)
   - interface: `extends` ì‚¬ìš©

4. Primitive Alias (TYPEONLY)

   - `type`ì€ primitive type alias ê°€ëŠ¥

   ```js
   type Name = string;
   ```

5. Function Types: (typeì´ ë” concise)

   ```js
   type Add = (a: number, b: number) => number;

   interface IAdd {
     (a: number, b: number): number;
   }
   ```

6. Tuple Types

   - `type`ë§Œ ê°€ëŠ¥

   ```js
   type Tuple = [number, string];
   interface TupleInterface {} // Not applicable for tuples.
   ```

| Interface                                                       | Type                                          |
| --------------------------------------------------------------- | --------------------------------------------- |
| ë‹¤ë¥¸ interface/clases ì— ì˜í•´ extension, implementation í•„ìš” ì‹œ | complex type def                              |
| ideal for API contracts                                         | when felxible, maipulative types are required |

## 7/23: Named vs Default Export

- [Treeshaking](https://webpack.js.org/guides/tree-shaking/) (tree shaking): dead code ì œê±°

- Named Export (`import {a, b, c} from 'abc'` )

  - ì´ë¦„ì´ ì •í•´ì ¸ ìˆì–´ consistency ìœ ì§€ì— ì¢‹ìŒ (ë¬¼ë¡  renaming ê°€ëŠ¥)
  - bundler (ex: Webpack) ì´ treeshaking í•  ë•Œ ì¢‹ë‹¤ (final bundleì— ë¯¸ì‚¬ìš© ì½”ë“œ ì œê±°)

- Default Export (`import abc from 'abc'` )

  - import ì‹œ ì´ë¦„ ì •í•´ì•¼ í•¨ (flexibility)
  - airbnb js styled guide: í•˜ë‚˜ë§Œ exportí•  ë•ŒëŠ” `default` ì‚¬ìš©
  - tree shaking ì‹œ named export ë³´ë‹¤ ë” ì–´ë ¤ì›€

1. [What is the benefit of prefer-default-export](https://github.com/airbnb/javascript/issues/1365?source=post_page-----38fa5d7f57d4--------------------------------)
2. [Why and when to use default export over named exports in es6 Modules](https://stackoverflow.com/questions/46913851/why-and-when-to-use-default-export-over-named-exports-in-es6-modules)

## 7/24: useLayoutEffect

- **Render**: calculating element styles for DOM Tree
- **Paint**: ì‹¤ì œ ìŠ¤í¬ë¦°ì— layout í‘œì‹œí•˜ê³  ì—…ë°ì´íŠ¸

![Full-width image](../_assets/hook-flow.png){:.lead width="800" height="400" opacity="1" loading="lazy"}

- `useEffect`: **ë¹„ë™ê¸°ì **ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.

  - component render -> paint -> `useEffect`
  - => useEffectë‚´ë¶€ì— DOM ì¡°ì‘ì´ ìˆì„ ê²½ìš°, **í™”ë©´ì´ ê¹œë¹¡**ì¼ ìˆ˜ ìˆë‹¤.

- `useLayoutEffect`: **ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰**ëœë‹¤.

  - component render -> `useLayoutEffect` -> paint
  - => í™”ë©´ ê¹œë¹¡ì´ì§€ ì•ŠëŠ”ë‹¤.
  - => ë¡œì§ ë³µì¡í•  ê²½ìš° ì‚¬ìš©ìê°€ í™”ë©´ì„ ë³´ê¸°ê¹Œì§€ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦´ ìˆ˜ ìˆë‹¤.

- ê¸°ë³¸ì ìœ¼ë¡œ useEffect ì‚¬ìš©
  - data fetching, event handling, state resetting (UIì™€ ê´€ë ¨ ì—†ëŠ” ì‘ì—…)
- í™”ë©´ì— ë Œë”ë§ì´ í•„ìš”í•œ ê²½ìš° useLayoutEffect ì‚¬ìš© ê´œì°®ìŒ
  - ë Œë”ë§ ì§í›„ DOMìš”ì†Œë¥¼ ì½ì„ ë•Œ ìœ ìš© (scroll position ë“±)

## 8/5: React FC ì‚¬ìš© ì§€ì–‘í•˜ê¸°

> âš ï¸ React 18 ì´ìƒì—ì„œ React.FCëŠ” ì‚¬ë¼ì¡Œë‹¤

- cra ê¸°ë³¸ í…œí”Œë¦¿ì—ì„œ ì‚¬ë¼ì§

1.  implicit `children`

    - `React.FC` ì‚¬ìš© ì‹œ `children` propì´ optionalë¡œ ê°„ì£¼ë¨
    - propì— childrenì´ ì¶”ê°€ë˜ì§€ ì•Šì•˜ìŒì—ë„ ë¶ˆêµ¬í•˜ê³  children ë„˜ê¸°ê¸° ê°€ëŠ¥
    - ëŸ°íƒ€ì„ ì—ëŸ¬ ë°œìƒ X (`FC`ë¯¸ì‚¬ìš© ì‹œ ì¡ì„ ìˆ˜ ìˆìŒ)
    - TSë¿ë§Œ ì•„ë‹ˆë¼ ê±°ì˜ ëª¨ë“  í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì—ì„œ ì•ˆí‹°íŒ¨í„´ì„

2.  íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ ì œë„¤ë¦­ ë¬¸ë²•ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤.

    ```js
    type GenericComponentProps<T> = {
      prop: T,
      callback: (t: T) => void,
    };
    ```

    ```js
    const GenericComponent = <T>(props: GenericComponentProps<T>) => {};
    ```

    - React.FC ì‚¬ìš© ì‹œ ì•ˆë¨!!

    ```js
    const GenericComponent: React.FC</* ??? */> = <T>(
      props: GenericComponentProps<T>
    ) => {};
    ```

3.  ë„¤ì„ìŠ¤í˜ì´ìŠ¤ íŒ¨í„´ ì´ìš© ì‹œ ë¶ˆí¸í•¨

    ```js
    <Select>
      <Select.Item />
    </Select>
    ```

    ```js
    // With FC
    const Select: React.FC<SelectProps> & { Item: React.FC<ItemProps> } = (
      props
    ) => {};
    Select.Item = (props) => {};

    // Without FC
    const Select = (props: SelectProps) => {};
    Select.Item = (props: ItemProps) => {};
    ```

4.  ì½”ë“œê°€ ê¸¸ì–´ì§„ë‹¤

**ê²°ë¡ **: ê·¸ëƒ¥ propì„ ëª…ì‹œì ìœ¼ë¡œ ì •ì˜í•˜ì

**_Namespace Pattern_**ì´ë€

- namespace : êµ¬ë¶„ì´ ê°€ëŠ¥í•˜ë„ë¡ ì •í•´ë†“ì€ ë²”ìœ„ë‚˜ ì˜ì—­ (ì´ë¦„ ê³µê°„ ì„ ì–¸ -> ë‹¤ë¥¸ ì´ë¦„ ê³µê°„ê³¼ êµ¬ë¶„)
  - ìì„¸í•œ ì •ë³´
  - JSëŠ” namespacing ê¸°ëŠ¥ì´ ì—†ê¸° ë•œëˆ„ì— JS ì˜ property ë¥¼ ì´ìš©í•´ namespace ë¥¼ êµ¬í˜„ (ì¤‘ì²© ê°ì²´ ê°€ëŠ¥í•˜ê¸°ì—)

> [React.FC ì‚¬ìš© ì§€ì–‘í•˜ê¸° velog ê¸€](https://velog.io/@frombozztoang/React.FC-%EC%82%AC%EC%9A%A9-%EC%A7%80%EC%96%91%ED%95%98%EA%B8%B0#reactfc-%EC%82%AC%EC%9A%A9%EC%9D%84-%EC%A7%80%EC%96%91%ED%95%B4%EC%95%BC-%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0) í† ëŒ€ë¡œ ì‘ì„±í•¨

## 8/12: react-native-share ğŸš€

---

> Troubleshooting ì…ë‹ˆë‹¤. (unsolved) <br/>
> produced by [ChnoAI](https://chno-ai-front-vsrg.vercel.app/) based on my "discussion" in ChatGPT

0. ë°°ê²½

   - í˜„ì¬ ê°œë°œí•˜ê³  ìˆëŠ” í”„ë¡œë•íŠ¸ì—ì„œëŠ” **ê³µìœ  í›„ (ì²«) ì„±ê³µ ì‹œ í”¼ë“œë°± íŒì—…**ì„ ë„ì›Œì£¼ì–´ì•¼ í•¨
   - BUT, ì•ˆë“œë¡œì´ë“œëŠ” ê³µìœ  ì„±ê³µí–ˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ê³µìœ ì·¨ì†Œí–ˆë‹¤ëŠ” ì—ëŸ¬ê°€ ëœ¸

1. ë¬¸ì œìƒí™© (QA) ë° ë°°ê²½

   | iOS                  | Android                                |
   | -------------------- | -------------------------------------- |
   | ê³µìœ  ì„±ê³µ ë’¤ success | ê³µìœ  ì„±ê³µ ë’¤ `User did not Share` ì—ëŸ¬ |

   - ì´ë¡œ ì¸í•´ ê³µìœ  ì„±ê³µ ì²˜ë¦¬ê°€ ì´ë£¨ì–´ì§€ì§€ ì•Šì•„ ì‚¬ìš©ì ê²½í—˜ì— ë¶€ì •ì ì¸ ì˜í–¥ì´ ìˆì„ ìˆ˜ ìˆìŒ.

2. ê³¼ì •

   - [React Native Share Docs](https://react-native-share.github.io/react-native-share/docs/share-open)ì—ë„ ê´€ë ¨ ë‚´ìš©ì´ ì—†ìŒ
   - [Github Discussion](https://github.com/react-native-share/react-native-share/issues/1059) ì—ì„œ ë¹„ìŠ·í•œ ìƒí™© ë°œê²¬í–ˆìœ¼ë‚˜ ì—­ì‹œë‚˜ í•´ê²°ë°©ì•ˆì´ ë§ˆë ¨ë˜ì–´ ìˆì§€ ì•ŠìŒ

   - AS-IS:

   ```js
   Share.open(options)
     .then((res) => {
       SuccessCallbackFunction();
     })
     .catch((err) => {
       // ê³µìœ  ì·¨ì†Œ ì‹œ ì•„ë¬´ëŸ° ë™ì‘ë„ í•˜ì§€ ì•ŠìŒ
       if (err.message === "User did not Share") return;
       // ì‹¤ì œ ì‹¤íŒ¨ ì‹œì—ë§Œ ì‹¤íŒ¨í–ˆë‹¤ëŠ” íŒì—…ì„ ë„ì›€
       FailCallbackFunction();
     });
   ```

   - ë¬¸ì œì : User did not share ë¶„ê¸°ì²˜ë¦¬ì— ì•ˆë“œë¡œì´ë“œ ì„±ê³µì´ ë“¤ì–´ê°€ë²„ë¦¼ ;;

3. í•´ê²°

   - ê½¤ë‚˜ ì°ì°í•œ í•´ê²°ë²•ì´ì§€ë§Œ,, ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ëœ¯ì–´ë³¼ ì‹œê°„ì€ ì—†ì–´ì„œ PMë‹˜ê³¼ íƒ€í˜‘í•¨ ã… 
   > "ê³µìœ  ì·¨ì†Œ ë˜í•œ ì„±ê³µìœ¼ë¡œ ê°„ì£¼í•œë‹¤"
   - ê³µìœ ë¥¼ ì·¨ì†Œí–ˆì–´ë„ í•©ì„± apië¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë§ˆì°¬ê°€ì§€ê¸°ì—, ì‚¬ìš©ìì—ê²Œ í”¼ë“œë°±ì„ ë¬¼ì–´ë³¸ë‹¤
     - `shareOptions`ì— `failOnCancel: false` ì¶”ê°€í•´ì£¼ê¸°

   ```js
   const shareOptions = {
     urls: paths,
     title: fileName,
     failOnCancel: false, // <----------- ìš” ì˜µì…˜ ì¶”ê°€!!
   };

   await Share.open(shareOptions)
     .then(() => {
       onSuccess?.();
     })
     .catch((e) => {
       onFail?.(String(e));
     });
   ```

4. í›„ê¸°: 
  - ì°ì°í•˜ë‹¤. ì˜ ì•Œê³  ì‹¶ë‹¤
  - cross-platform ë¼ì´ë¸ŒëŸ¬ë¦¬ë”ë¼ë„ í…ŒìŠ¤íŠ¸ëŠ” ê¼¼ê¼¼íˆ í•´ë´ì•¼ í•œë‹¤
  - ì•± ê°œë°œì€ ì—­ì‹œ ê¹Œë‹¤ë¡­ë‹¤