---
layout: post
title: 01ì¥ ë¦¬ì•¡íŠ¸ ê°œë°œì„ ìœ„í•´ ê¼­ ì•Œì•„ì•¼ í•  ìë°”ìŠ¤í¬ë¦½íŠ¸
description: >
  JS for React
categories: javascript
accent_color: "#D0C8B6"
accent_image:
  background: "#E2DAD5"
theme_color: "#D0C8B6"
sitemap: false
permalink: /frontend/react/js-for-react
---

{:toc .large-only}

## ë“¤ì–´ê°€ë©°

### ì™œ ë¦¬ì•¡íŠ¸ì¸ê°€

---

- ìµœê·¼ì— ì „ìì •ë¶€ í‘œì¤€ frameworkë¡œ ì±„íƒ â†’ ì•ˆì •ì„±, ìœ ì§€ë³´ìˆ˜ì„± í™•ë³´
- ëª…ì‹œì  ìƒíƒœë³€ê²½ , ë‹¨ë°©í–¥ ë°”ì¸ë”©: component change sâ†’ view changes
  - if ìƒíƒœ ë³€ê²½ â†’ ìƒíƒœ ë³€í™”ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì¼ìœ¼í‚¨ í•¨ìˆ˜ë§Œ ì°¾ìœ¼ë©´ ëœë‹¤ (ë°ì´í„° íë¦„ì˜ ë³€í™”ê°€ ë‹¨ìˆœ)
  - ë°˜ëŒ€ë°©í–¥ë„ ê°€ëŠ¥í•˜ë©´ Angular
  - ê°„ë‹¨í•¨, ìœ ì—°í•¨
- JSX, ê°„ê²°í•¨, ë„“ì€ ì»¤ë®¤ë‹ˆí‹° ë“±

## 1.1 ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ë™ë“±ë¹„êµ

---

â†’ propsì˜ ë™ë“±ë¹„êµ (which triggers rerendering) ì€ ì–•ì€ ë¹„êµì´ë‹¤

**JS Datatypes**

- ì›ì‹œ (Primitive) íƒ€ì…: ê°ì²´ ì œì™¸ 7ê°œ

  - `boolean`
  - `null` : ëª…ì‹œì ìœ¼ë¡œ ë¹„ì–´ ìˆëŠ” ê°’ (JS ì´ˆê¸° ì˜¤ë¥˜ë¡œ ì¸í•´ typeofëŠ” â€˜objectâ€™ì´ë‹¤..)
  - `undefined` : ì„ ì–¸ í›„ ê°’ ì—†ëŠ” ì¸ìˆ˜ì— ìë™ í• ë‹¹ë˜ëŠ” ê°’
  - `number` : ì •ìˆ˜, ì†Œìˆ˜ ë‹¤ ê°€ëŠ¥í•œ $$[-2^{53}-1, 2^{53}-1] $$(`typeof` number â‰  `typeof` bigint)
  - `string`: ë°±í‹± ì‚¬ìš© ì‹œ ì¤„ë°”ê¿ˆë„ ê°€ëŠ¥ (ì›ì‹œ íƒ€ì…ì´ê¸°ì— ë¶€ë¶„ë³€ê²½ ì•ˆë¨ ex: foo[0] = â€˜aâ€™ X)
  - `bigint`: 2020ì— ì¶œì‹œëœ ìˆ«ì ë’¤ì— â€˜nâ€™ë¶™ì´ê±°ë‚˜ BigInt(..)ë¡œ ì‚¬ìš©, $2^{53}-1$ë³´ë‹¤ ë” í¬ê¸° ê°€ëŠ¥
  - `symbol`: ì¤‘ë³µë˜ì§€ ì•Šì€ ê³ ìœ ì˜ ê°’, ìƒˆë¡œ ì¶”ê°€ë¨!

- ê°ì²´ íƒ€ì… (Object, Reference Type) :
  - `object`: ë°°ì—´, í•¨ìˆ˜, ì •ê·œì‹, í´ë˜ìŠ¤ etc

**ì›ì‹œvsê°ì²´ : ê°’ì„ ì €ì¥í•˜ëŠ” ë°©ì‹ì˜ ì°¨ì´**

- ì›ì‹œ íƒ€ì…: ë¶ˆë³€í˜•íƒœ, í• ë‹¹ ì‹œ ë©”ëª¨ë¦¬ ì˜ì—­ ì°¨ì§€ â†’ ì €ì¥
- ê°ì²´ íƒ€ì…: ë³€ê²½ê°€ëŠ¥í•œ í˜•íƒœë¡œ ì €ì¥ (CRUD), ë³µì‚¬ ì‹œ ê°’ì´ ì•„ë‹Œ ì°¸ì¡°ë¥¼ ì „ë‹¬ (ê·¸ë˜ì„œ ì–•ì€ ë³µì‚¬í•˜ë©´ ê°™ì€ ì°¸ì¡°ê°’ ë°”ë¼ë´„..)

**Object.is**

- `==` (ì–‘ìª½ íƒ€ì… ì•Œì•„ì„œ ë§ì¶°ë†“ê³  ë¹„êµ)ë³´ë‹¤ í™•ì‹¤íˆ ë¹„êµ (type ë¹„êµë„ ê°™ì´)
- `===` ë³´ë‹¤ ì§ê´€ì ìœ¼ë¡œ ë¹„êµ
  - `-0 === +0` â†’ true
  - `Object.is(-0, 0)` â†’ false
- í•˜ì§€ë§Œ ê°ì²´ ë¹„êµì—ëŠ” ë„ì›€ì´ ë˜ì§€ ì•ŠìŒ
  - `Object.is({}, {})` â†’ false

**ë¦¬ì•¡íŠ¸ì—ì„œì˜ ë™ë“± ë¹„êµ**
= `Object.is`ì„ (`objectIs(x, y)`)

- but `Object.is`ëŠ” ES6ê¸°ëŠ¥ì´ë¼ polyfil í•¨ê»˜ ì‚¬ìš©

  - `typeof Object.is === 'function' ? Object.is : polyfillIs`

- ReactëŠ” `shallowEqual` (using `objectIs`) ë¡œ ê°ì²´ì˜ 1 depthê¹Œì§€ë§Œ í™•ì¸

  - prop ì— ë”°ë¼ ë¦¬ë Œë”ë§ í•˜ê¸° ë•Œë¬¸ !
  - so prop ì•ˆì— ë˜ ê°ì²´ ë„£ìœ¼ë©´ `React.memo`ê°€ ì •ì‹  ëª» ì°¨ë¦´ ë–„ ìˆìŒ
  - recursive í•˜ê²Œ ì°¾ìœ¼ë©´ ì•ˆë˜ë‚˜? => ì„±ëŠ¥ì €í•˜ í°ì¼ë‚¨

- **ê°ì²´ ë¹„êµì˜ ë¶ˆì™„ì „ì„±** - JS ê·¼ë³¸ì—†ë‹¤ê³  í•˜ëŠ” ì´ìœ  ì¤‘ í•˜ë‚˜! (unlike í•˜ìŠ¤ì¼ˆ, ìŠ¤ì¹¼ë¼..)

## 1.2 í•¨ìˆ˜

---

**4 Types of Functions**

1. í•¨ìˆ˜ ì„ ì–¸ë¬¸
2. í‘œí˜„ì‹
3. Function ìƒì„±ì (`const add = new Function('a', 'b', 'return a+b')`) : ë¯¸ì‚¬ìš©!
4. í™”ì‚´í‘œ í•¨ìˆ˜ (`ES6`)

- JS ì—”ì§„ : ì„ ì–¸ë¬¸ì„ í‘œí˜„ì‹ì²˜ëŸ¼ í•´ì„í•  ìˆ˜ë„ ìˆìŒ.. (ë¬¸ë§¥ì— ë”°ë¼)

|             | í•¨ìˆ˜ ì„ ì–¸ë¬¸ (Declaration)                           | í•¨ìˆ˜ í‘œí˜„ì‹ (Expression)                       |
| ----------- | --------------------------------------------------- | ---------------------------------------------- |
| ì‹          | `function add(a, b) {}`                             | `const add = function(){}`                     |
| í˜¸ì´ìŠ¤íŒ…    | ì½”ë“œì˜ ìˆœì„œì—†ì´ ë©”ëª¨ë¦¬ì— í•¨ìˆ˜ ë“±ë¡                  | (ë³€ìˆ˜ë“±ë¡) hoisting í•˜ì§€ë§Œ undefined ë¨¼ì € ë“±ë¡ |
| when to use | ì–´ë””ì„œë“  ììœ ë¡­ê²Œ í˜¸ì¶œ, ëª…ì‹œì ìœ¼ë¡œ ì‘ì„±í•˜ê³  ì‹¶ì„ ë•Œ | ê´€ë¦¬í•´ì•¼ í•˜ëŠ” ìŠ¤ì½”í”„ê°€ ìˆì„ ë•Œ                 |

- í‘œí˜„ì‹: ì¼ê¸‰ ê°ì²´ì—¬ì„œ ê°€ëŠ¥

  1. ë‹¤ë¥¸ í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ ê°€ëŠ¥
  2. ë°˜í™˜ê°’ ê°€ëŠ¥
  3. ë³€ìˆ˜ì— í• ë‹¹ ê°€ëŠ¥

- **_hoisting_**: í•¨ìˆ˜ì— ëŒ€í•œ ì„ ì–¸ì„ ì‹¤í–‰ ì „ì— ë©”ëª¨ë¦¬ì— ë“±ë¡í•˜ëŠ” ì‘ì—„

**_í™”ì‚´í‘œ í•¨ìˆ˜_**

1. `constructor` ì‚¬ìš© ë¶ˆê°€

   ```js
   const Car = (name) => {
     this.name = name;
   };
   const myCar = new Car("BMW"); // TypeError
   ```

2. no arguments

   ```js
   function hello() {
     console.log(arguments);
   } // hello(1,2,3) í•˜ë©´ ì¶œë ¥í•¨
   const hi = () => {
     console.log(arguments);
   }; // hi(1,2,3) í•˜ë©´ ReferenceError
   ```

3. `this` binding (ìì‹ ì´ ì†í•œ ê°ì²´ or ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ ê°€ë¦¬í‚¤ëŠ” ê°’)

   - ì›ë˜: í•¨ìˆ˜ í˜¸ì¶œì— ë”°ë¼ ë™ì ìœ¼ë¡œ ê²°ì • ë¨ (ì˜ˆ: ì¼ë°˜í•¨ìˆ˜ í˜¸ì¶œ -> ë‚´ë¶€ì˜ this = ì „ì—­ ê°ì²´)
   - in í™”ì‚´í‘œ í•¨ìˆ˜: í•¨ìˆ˜ ìì²´ì˜ ë°”ì¸ë”©ì„ ê°–ì§€ ì•ŠìŒ. ë‚´ë¶€ì—ì„œ `this` ì°¸ì¡° ì‹œ, ìƒìœ„ ìŠ¤ì½”í”„ì˜ `this` ë”°ë¦„

     ```js
     class Component extends React.Component {
       constructor(props) {
         super(props);
         this.state = { count: 0 };
       }

       functionCounter() {
         console.log(this); // undefined (ê°ì²´ ë‚´ë¶€ë¥¼ ì˜ë¯¸)
         this.setState({ count: this.state.count + 1 });
       }

       arrowCounter = () => {
         console.log(this); // class Component (ìƒìœ„ scopeì˜ thisë¥¼ ë”°ë¦„)
         this.setState({ count: this.state.count + 1 });
       };

       render() {
         return (
           <>
             {/** cannot read property of undefined'setState' of undefined  */}
             <button onClick={this.functionCounter}>Function</button>
             {/** ì •ìƒì‘ë™ */}
             <button onClick={this.arrowCounter}>Arrow</button>
           </>
         );
       }
     }
     ```

   - babel íŠ¸ëœìŠ¤íŒŒì¼ë§ì—ì„œë„ í™•ì¸ ê°€ëŠ¥
   - í™”ì‚´í‘œ í•¨ìˆ˜ : `this`ì„ ì–¸ ì‹œì ì— (ìƒìœ„ ìŠ¤ì½”í”„ë¡œ) ê²°ì •, ë°›ì•„ ì‚¬ìš© ê°€ëŠ¥
   - ì¼ë°˜ í•¨ìˆ˜: í˜¸ì¶œ ì‹œ ëŸ°íƒ€ì„ì— ê²°ì •

**Various Functions**

- ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ (`IIFE`: Immediately Invoked Function Expression), ì¬í˜¸ì¶œ ë¶ˆê°€ëŠ¥

  ```js
  ((a, b) => {
    console.log(a + b);
  })(1, 2);
  ```

- ê³ ì°¨ í•¨ìˆ˜ (ì¼ê¸‰ê°ì²´ë¼ëŠ” íŠ¹ì§•ì„ í™œìš©) -> ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ë„ ê°€ëŠ¥

  - í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ë°›ê±°ë‚˜ í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜
  - `map`, `filter`, `reduce` ë“±

  ```js
  const add = (a) => (b) => a + b;
  const add(10)(20); // 30
  const add10 = add(10);
  ```

1. ë¶€ìˆ˜íš¨ê³¼ ì¤„ì¼ ê²ƒ -> ì™„ì „íˆëŠ” ë¶ˆê°€ëŠ¥ í•˜ì§€ë§Œ ìµœëŒ€í•œ í“¨ì–´í•˜ê²Œ~
2. ê°€ëŠ¥í•œ ì‘ê²Œ í•¨ìˆ˜ ë§Œë“¤ ê²ƒ (ì½”ë“œ ëƒ„ìƒˆ í”¼í•˜ê¸°, ì¬ì‚¬ìš©ì„± ë†’ì´ê¸°)

## 1.3 í´ë˜ìŠ¤

---

- JS ì—ì„œ ëª¨ë“  í´ë˜ìŠ¤ëŠ” í•¨ìˆ˜ë¡œ í‘œí˜„ ê°€ëŠ¥
- ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œ - í´ë˜ìŠ¤ ë‚´ë¶€ì— ì„ ì–¸, aka í”„ë¡œí† íƒ€ì… ë©”ì„œë“œ
  - prototypeì— ì„ ì–¸ë¨, ê³ ë¡œ prototype chainì„ ë”°ë¼ê°€ë©´ ì°¾ì„ ìˆ˜ ìˆìŒ
- ì •ì  ë©”ì„œë“œ - í´ë˜ìŠ¤ ìì²´ì— ì„ ì–¸ (ì¸ìŠ¤í„´ìŠ¤ê°€ ì•„ë‹Œ, ì´ë¦„ìœ¼ë¡œ í˜¸ì¶œ)
  - `this.state`ì— ì ‘ê·¼ ë¶ˆê°€
- í´ë˜ìŠ¤ëŠ” ES6ë¶€í„° ì§€ì›, ì´ì „ì—ëŠ” í”„ë¡œí† íƒ€ì… í™œìš©í•´ í´ë˜ìŠ¤ì˜ ì‘ë™ ë°©ì‹ êµ¬í˜„ ê°€ëŠ¥
- í´ë˜ìŠ¤ëŠ” ì¼ì¢…ì˜ ë¬¸ë²•ì  ì„¤íƒ• (syntactic sugar)
- JS í´ë˜ìŠ¤ëŠ” í”„ë¡œí† íƒ€ì… ê¸°ë°˜ìœ¼ë¡œ ì‘ë™!

## 1.4 í´ë¡œì €

- JS FC ì´í•´ì— í•µì‹¬ì ì¸ ê°œë… (êµ¬ì¡°, ì‘ë™ë°©ì‹, í›…ì˜ ì›ë¦¬, [deps] ë“±)

**_í´ë¡œì €ì˜ ì •ì˜_**

> Closure : í•¨ìˆ˜ + í•¨ìˆ˜ ì„ ì–¸ëœ Lexcial Scope

- ì„ ì–¸ëœ ì–´íœ˜ì  í™˜ê²½ : ë™ì  (ì–¸ì œ í˜¸ì¶œë˜ì—ˆëŠ”ì§€, `this`)ê°€ ì•„ë‹Œ, ì •ì  (ì–´ë””ì„œ ì„ ì–¸ë˜ì—ˆëŠ”ì§€)ìœ¼ë¡œ ê²°ì •

**_ë³€ìˆ˜ì˜ ìœ íš¨ë²”ìœ„, ìŠ¤ì½”í”„_**

- ì „ì—­ ìŠ¤ì½”í”„: ì–´ë””ì„œë“  ì ‘ê·¼ ê°€ëŠ¥

  - ì „ì—­ ìŠ¤ì½”í”„ëŠ” ì „ì—­ ê°ì²´ì— ë°”ì¸ë”© ë¨ (`window` in Browser, `global` in Node)

- í•¨ìˆ˜ ìŠ¤ì½”í”„

  - ë‹¤ë¥¸ ì–¸ì–´ë“¤ê³¼ ë‹¬ë¦¬ ë¸”ë¡ë ˆë²¨ (`{ }`) ë”°ë¥´ì§€ ì•ŠìŒ

    ```js
    if (true) {
    var global =â€™global scopeâ€™
    }

    console.log(global) // â€™global scopeâ€™
    console.log(global === window.global) // true
    ```

    - ë¸”ë¡ ë ˆë²¨ì´ì—ˆë‹¤ë©´ `ReferenceError`

**\_í´ë¡œì €ì˜ í™œìš©**

- ex: `useState`: ë¦¬ì•¡íŠ¸ê°€ ë³„ë„ë¡œ ê´€ë¦¬í•˜ëŠ” í´ë¡œì € ë‚´ë¶€ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥í•œ ìƒíƒœê°’

- í™œìš© ì‹œ ì „ì—­ ìŠ¤ì½”í”„ ì‚¬ìš© ë§‰ì„ ìˆ˜ ìˆìŒ
- ê°œë°œìê°€ ì›í•˜ëŠ” ì •ë³´ë§Œ ê³µê°œ ê°€ëŠ¥

```js
function Component() {
  const [count, setCount] = useState(0);
  function onClick() {
    setCount((prev) => prev + 1);
  }
}
```

- í´ë¡œì €ê°€ useState ë‚´ë¶€ì—ì„œ í™œìš©ë˜ì—ˆê¸° ë•Œë¬¸ì— í˜¸ì¶œì´ ëë‚˜ë„ prev ê°’ì„ ì•ˆë‹¤??

  - ì™¸ë¶€í•¨ìˆ˜ (useState)ê°€ ì¢…ë£Œë˜ì–´ë„ ë‚´ë¶€í•¨ìˆ˜ (setCount)ê°€ ì°¸ì¡°í•˜ëŠ” ë³€ìˆ˜ëŠ” ì‚¬ë¼ì§€ì§€ ì•ŠìŒ

- ì£¼ì˜ì 

  - í´ë¡œì € ì‚¬ìš© ì‹œ ë¹„ìš© ë°œìƒ (ì„ ì–¸ì  í™˜ê²½ì„ ê¸°ì–µí•´ì•¼í•˜ê¸° ë•Œë¬¸)

- ê¸´ ì‘ì—…ì„ ì¼ë°˜ì ì¸ í•¨ìˆ˜ë¡œ ì²˜ë¦¬:

  ```js
  const aButton = document.getElementById("a");

  function heavyJob() {
    const longArr = Array.from({ length: 10000000 }, (_, i) => i + 1);
    console.log(longArr.length);
  }

  aButton.addEventListener("click", heavyJob);
  ```

- í´ë¡œì €ë¡œ ì²˜ë¦¬:

  ```js
  const aButton = document.getElementById("a");

  function heavyJobWithClosure() {
    const longArr = Array.from({ length: 10000000 }, (_, i) => i + 1);

    return function () {
      console.log(longArr.length);
    };
  }

  const innerFunc = heavyJobWithClosure();
  aButton.addEventListener("click", () => {
    innerFunc();
  });
  ```

## 1.5 ì´ë²¤íŠ¸ ë£¨í”„ì™€ ë¹„ë™ê¸° í†µì‹ ì˜ ì´í•´

---

- ë™ê¸° - (synch) ì§ë ¬
  - ì´ ìš”ì²­ì´ ì‹œì‘ëœ ì´í›„ì—ëŠ” ë¬´ì¡°ê±´ ì‘ë‹µì„ ë°›ì€ ì´í›„ì—ì•¼ ë‹¤ë¥¸ ì‘ì—…ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆìŒ
  - $$\rightarrow$$ <fontcolor>JS ê¸°ë³¸ì ìœ¼ë¡œ ë™ê¸°</fontcolor>ì 
- ë¹„ë™ê¸° - (async), ë³‘ë ¬
  - ìš”ì²­ ì‹œì‘ í›„ ì‘ë‹µ ì—¬ë¶€ì™€ ìƒê´€ì—†ì´ ë‹¤ìŒ ì‘ì—…ì´ ì´ë£¨ì–´ì§€ë¯€ë¡œ í•œ ë²ˆì— ì—¬ëŸ¬ ì‘ì—…ì´ ì‹¤í–‰ë  ìˆ˜ ìˆìŒ
  - JS ë¹„ë™ê¸°ë„ ê°€ëŠ¥
  - ê·¼ë° ì‚¬ì‹¤ ë³‘ë ¬ì´ ì•„ë‹ˆë¼ ê± ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ë„˜ì–´ê°€ëŠ” ê²ƒ!

**ì‹±ê¸€ ìŠ¤ë ˆë“œ ìë°”ìŠ¤í¬ë¦½íŠ¸**

- why single-threaded?

  - ì´ˆê¸° ì˜ë„: HTML ë³´ì¡°ì—­í• 
  - if multithreading happens -> race condition (ê²½ìŸ ìƒíƒœ) ë°œìƒ ê°€ëŠ¥

- ë¹„ë™ê¸° ì½”ë“œ ì²˜ë¦¬ ì‹œ ì˜¤ë˜ê±¸ë¦¬ëŠ” ì‘ì—… (fetching, reading files etc.) ë³„ë„ë¡œ ì²˜ë¦¬,
  - ì‘ì—… ì™„ë£Œ ì‹œ ì½œë°±í•¨ìˆ˜
  - **ì´ë²¤íŠ¸ ë£¨í”„** ì‚¬ìš©! (íš¨ìœ¨ ì¦ëŒ€)

```js
console.log(1);

setTimeout(() => {
  console.log(2);
}, 0);

setTimeout(() => {
  console.log(3);
}, 100);

console.log(4);
```

- ë‹µì€ `1 2 3 4`ê°€ ì•„ë‹Œ, `1 4 2 3 `ì„

> ğƒ **Process** : ì‹¤í–‰ ë‹¨ìœ„<br/>
> ğŸª¡ **Thread**: í”„ë¡œì„¸ìŠ¤ë³´ë‹¤ ë” ì‘ì€ ì‹¤í–‰ ë‹¨ìœ„í•˜ë©° ë©”ëª¨ë¦¬ë¥¼ ê³µìœ í•´ ì—¬ëŸ¬ ì‘ì—… ë™ì‹œ ìˆ˜í–‰ ê°€ëŠ¥

- ì˜›ë‚ : 1 process, 1 work
- í˜„ì¬: í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ -> ì—¬ëŸ¬ê°œ ìŠ¤ë ˆë“œ

**_ì´ë²¤íŠ¸ ë£¨í”„_**

_ì„¤ëª… ê¸°ì¤€: V8_ (ë”±íˆ ECMAScriptì—ëŠ” ì—†ìŒ)

- JSë¥¼ ëŸ°íƒ€ì„ ì™¸ë¶€ì—ì„œ ë¹„ë™ê¸° ì‘ì—… ì‹¤í–‰ ê´€ë¦¬ ìœ„í•´ ë§Œë“¤ì–´ì§
  - JS ëŸ°íƒ€ì„ : JS ì‹¤í–‰í™˜ê²½ (browser, nodejs)

![Full-width image](https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SvTxMIEudVv8YRW_ELRamw.png){:.lead width="200" height="50" loading="lazy"}[Medium: JavaScript Event Loop & its functions
](https://devfaysalkhan.medium.com/javascript-event-loop-its-functions-59566199a911)
{:.figcaption}

- ğŸ“š **_Call Stack_**: ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì‹¤í–‰í•  ì½”ë“œë‚˜ í•¨ìˆ˜ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ë‹´ì•„ë‘ëŠ” Stack
- **_Callback/Task Queue_**: ë¹„ë™ê¸° í•¨ìˆ˜ì˜ ì½œë°± / ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë‹´ê¸°ëŠ” ê³³
- ğŸ”„ **_Event Loop_**: í˜¸ì¶œ ìŠ¤íƒì´ ë¹„ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ê³ , ë¹„ì–´ ìˆì„ ê²½ìš° íì—ì„œ ëŒ€ê¸° ì¤‘ì¸ ì‘ì—…ì„ ì‹¤í–‰ ê°€ì¥ ì˜¤ë˜ëœ ì• ë¶€í„° ìˆœì°¨ì ìœ¼ë¡œ êº¼ë‚´ì„œ ì‹¤í–‰

```js
function bar() {
  console.log("bar");
}

function baz() {
  console.log("baz");
}

function foo() {
  console.log("foo");
  bar();
  baz();
}

foo();
```

CALL STACKê¸°ì¤€:

1. [`foo()`]
2. [`foo()`, `console.log`]
3. [`foo()`] `// console log ì‹¤í–‰`
4. [`foo()`, `bar()`]
5. [`foo()`, `bar()`, `console.log`]
6. [`foo()`, `bar()`] `// console log ì‹¤í–‰`
7. [`foo()`] (`bar`ì— ë” ì´ìƒ ì—†ìŒ -> ì œê±°)
8. [`foo()`, `baz()`]
9. [`foo()`, `baz()`, `console.log`]
10. [`foo()`, `baz()`] `// console log ì‹¤í–‰`
11. [`foo()`] (`baz`ì— ë” ì´ìƒ ì—†ìŒ -> ì œê±°)
12. [] (`foo`ì— ë” ì´ìƒ ì—†ìŒ -> ì œê±°)
13. ë—! -> ì´ë²¤íŠ¸ ë£¨í”„ê°€ í™•ì¸í•¨

ê·¸ë˜ì„œ ë™ì‹œëŠ” ë¶ˆê°€ëŠ¥í•˜ê³ , ìˆœì°¨ì ìœ¼ë¡œ í•¨

```js
function bar() {
  console.log("bar");
}

function baz() {
  console.log("baz");
}

function foo() {
  console.log("foo");
  setTimeout(bar, 0);
  baz();
}

foo();
```

CALL STACK - TASK QUEUE

1. [`foo()`]
2. [`foo()`, `console.log`]
3. [`foo()`]
4. [`foo()`, `setTimeout(bar, 0)`]
5. [`foo()`] - [`setTimeout(bar, 0)`]
6. [`foo()`, `baz()`] - [`setTimeout(bar, 0)`]
7. [`foo()`, `baz()`, `console.log`] - [`setTimeout(bar, 0)`]
8. [`foo()`, `baz()`] - [`setTimeout(bar, 0)`]
9. [`foo()`] - [`setTimeout(bar, 0)`]
10. [] - [`setTimeout(bar, 0)`]
11. ë— (ì´ë²¤íŠ¸ ë£¨í”„ê°€ í™•ì¸)
12. [`bar()`] - []
13. [`bar()`, `console.log`]
14. [`bar()`]
15. []

- $$\Rightarrow$$ ë”±íˆ 0ì´ˆ ë’¤ì— ì‹¤í–‰ëœë‹¤ëŠ” ê²ƒì„ ë³´ì¥í•´ì£¼ì§€ëŠ” ì•ŠìŒ!!!
  - ì›ë˜ í: FIFO
  - ìš°ë¦¬ (í…ŒìŠ¤í¬) í: FIFO ì•„ë‹˜
- ì´ëŸ° ë¹„ë™ê¸° í•¨ìˆ˜ ì‹¤í–‰: ë©”ì¸ ìŠ¤ë ˆë“œê°€ ì•„ë‹ˆë¼ ë³„ë„ì˜ ìŠ¤ë ˆë“œì—ì„œ ìˆ˜í–‰ë¨!!
  - ë¸Œë¼ìš°ì €ë‚˜ ë…¸ë“œjsê°€ ì‹¤í–‰
- => JS ëŠ” ì‹±ê¸€ìŠ¤ë ˆë“œ, ê·¼ë° ì™¸ë¶€ ë„ì›€ í•„ìš”í•œ ì–¸ì–´

![Full-width image](https://www.mwanmobile.com/wp-content/uploads/2023/01/pp9n3grfwgcaqgi30t4e.gif){:.lead width="200" height="50" loading="lazy"}[mwanmobile í‚¹ì©ŒëŠ” ì• ë‹ˆë©”ì´ì…˜](https://www.mwanmobile.com/node-js-animated-event-loop/)
{:.figcaption}

- **_Task Queue, Micro Task Queue_**

- ì´ë²¤íŠ¸ ë£¨í”„ëŠ” í•˜ë‚˜ì˜ ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ íë¥¼ ê°€ì§

  - íƒœìŠ¤í¬ í: [`setTimeout`, `setInterval`, `setImmediate`]
  - ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ í: [`process.nextTick`, `Promises`, `queueMicroTask`, `MutationObserver`]

- ë§ˆì´í¬ë¡œ í…ŒìŠ¤í¬ íê°€ ìš°ì„ ê¶Œ ë³´ìœ  (ì–˜ê°€ ë¹„ì–´ì•¼ë§Œ í…ŒìŠ¤í¬ í ì‘ì—… ê°€ëŠ¥)
- ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ íê°€ ë¹Œ ë•Œê¹Œì§€ëŠ” ê¸°ì¡´ íƒœìŠ¤í¬ í ì‹¤í–‰ì€ ë’¤ë¡œ ë¯¸ë£¨ì–´ì§

- ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ í â†’ ë¸Œë¼ìš°ì € ë Œë”ë§ â†’ íƒœìŠ¤í¬ í

```js
function foo() {
  console.log(`foo`);
}

function bar() {
  console.log(`bar`);
}

function baz() {
  console.log(`baz`);
}

setTimeout(foo, 0);

Promise.resolve().then(bar).then(baz); // ì‹¤í–‰ ìˆœì„œ: bar, baz, foo
```
